import{_ as Nt}from"./VPagination.vuevuetypescriptsetuptruelang-CvGnIcmr.js";import{_ as Ot,a as Qt,b as Kt,c as jt}from"./ViewToggleButtons.vuevuetypescriptsetuptruelang-CuywL1L0.js";import{e as ve,u as st,c as m,o,Z as C,L as c,M as ye,l as e,K as l,G as ot,z as d,q as u,k as r,a8 as nt,aN as at,aO as z,ak as it,aP as ee,aQ as te,aR as lt,N as dt,O as N,a as g,aH as se,t as h,n as _e,Q as rt,R as Gt,H as We,S as Xe,f as Wt,s as Ye,r as H,T as Xt,g as Yt,am as Ze,an as Zt,U as Jt,V as xt,aS as es,aT as Je,aU as ts,ao as ss,W as os,aV as ns,aW as as,X as is,Y as ls,j as V,p as ds,ah as rs,aq as us,$ as x,a0 as ps,ax as ms,aX as cs,F as gs,aY as ks,ap as fs,aZ as _s,aw as vs,a_ as ys,B as xe,a2 as hs,a3 as $s,a$ as et,b0 as tt,a4 as bs,a5 as M}from"./index-BoXfNRGv.js";import{_ as ws,a as Cs,b as Is}from"./SearchInput-BnXgDuxv.js";import{_ as Ts,a as Fs}from"./upload-rounded-BMJdzwh0.js";import{_ as Ss}from"./MediaKeyboardShortcuts.vuevuetypescriptsetuptruelang-BtKgPiO0.js";import{_ as ut}from"./VCheckbox-C2EQufpw.js";import{u as Ds}from"./search-CxpIgcOU.js";import{a as Vs}from"./tags-BjSq5Bb1.js";import{u as Ls,a as As}from"./key-events-OT4soXUo.js";import{_ as Es}from"./ListItemPhone.vuevuetypescriptsetuptruelang-Bqw8QMbP.js";import{_ as Ms}from"./FieldId.vuevuetypescriptsetuptruelang-AXTM3mJl.js";import"./search-rounded-D971j_Tj.js";const Bs={class:"actions"},Us=ve({__name:"ImageActionButtons",props:{item:{},filter:{},dataType:{},app:{},deleteItem:{type:Function},restore:{type:Function},downloadFile:{type:Function},trash:{type:Function},addItemToTags:{type:Function},restoreLoading:{type:Function},trashLoading:{type:Function}},setup(he){const{t}=st();return(a,k)=>{const b=nt,I=ot,q=at,P=it,$=lt,U=dt,p=ye("tooltip");return o(),m("div",Bs,[a.filter.trash?(o(),m(C,{key:0},[c((o(),l(I,{class:"sm",onClick:k[0]||(k[0]=d(T=>a.deleteItem(a.dataType,a.item),["stop"]))},{default:u(()=>[r(b)]),_:1})),[[p,e(t)("delete")]]),c((o(),l(I,{class:"sm",loading:a.restoreLoading(`ids:${a.item.id}`),onClick:k[1]||(k[1]=d(T=>a.restore(a.dataType,`ids:${a.item.id}`),["stop"]))},{default:u(()=>[r(q)]),_:1},8,["loading"])),[[p,e(t)("restore")]]),c((o(),l(I,{class:"sm",onClick:k[2]||(k[2]=d(T=>a.downloadFile(a.item.path,e(z)(a.item.path).replace(" ","-")),["stop"]))},{default:u(()=>[r(P)]),_:1})),[[p,e(t)("download")]])],64)):(o(),m(C,{key:1},[e(ee)(e(te).MEDIA_TRASH,a.app.osVersion)?c((o(),l(I,{key:0,class:"sm",loading:a.trashLoading(`ids:${a.item.id}`),onClick:k[3]||(k[3]=d(T=>a.trash(a.dataType,`ids:${a.item.id}`),["stop"]))},{default:u(()=>[r($)]),_:1},8,["loading"])),[[p,e(t)("move_to_trash")]]):c((o(),l(I,{key:1,class:"sm",onClick:k[4]||(k[4]=d(T=>a.deleteItem(a.dataType,a.item),["stop"]))},{default:u(()=>[r(b)]),_:1})),[[p,e(t)("delete")]]),c((o(),l(I,{class:"sm",onClick:k[5]||(k[5]=d(T=>a.downloadFile(a.item.path,e(z)(a.item.path).replace(" ","-")),["stop"]))},{default:u(()=>[r(P)]),_:1})),[[p,e(t)("download")]]),c((o(),l(I,{class:"sm",onClick:k[6]||(k[6]=d(T=>a.addItemToTags(a.item),["stop"]))},{default:u(()=>[r(U)]),_:1})),[[p,e(t)("add_to_tags")]])],64))])}}}),Rs={class:"start"},zs={class:"number"},qs=["src"],Ps={class:"title"},Hs={class:"subtitle"},Ns={class:"time"},Os={class:"image"},Qs=["src"],Ks={class:"subtitle"},js={class:"subtitle"},Gs=ve({__name:"ImageListItem",props:{item:{},index:{},selectedIds:{},shiftEffectingIds:{},shouldSelect:{type:Boolean},isPhone:{type:Boolean},bucketsMap:{},filter:{},dataType:{},mainStore:{},app:{},handleItemClick:{type:Function},handleMouseOver:{type:Function},toggleSelect:{type:Function},viewBucket:{type:Function},deleteItem:{type:Function},restore:{type:Function},downloadFile:{type:Function},trash:{type:Function},addItemToTags:{type:Function},view:{type:Function},restoreLoading:{type:Function},trashLoading:{type:Function}},setup(he){return(t,a)=>{var U;const k=ut,b=Ms,I=rt,q=Us,P=Es,$=ye("tooltip");return t.isPhone?(o(),l(P,{key:1,"is-selected":t.selectedIds.includes(t.item.id),"is-selecting":t.shiftEffectingIds.includes(t.item.id),"checkbox-checked":t.shiftEffectingIds.includes(t.item.id)?t.shouldSelect:t.selectedIds.includes(t.item.id),onClick:a[6]||(a[6]=p=>t.handleItemClick(p,t.item,t.index,()=>t.view(t.index))),onMouseenter:a[7]||(a[7]=d(p=>t.handleMouseOver(p,t.index),["stop"])),onCheckboxClick:a[8]||(a[8]=p=>t.toggleSelect(p,t.item,t.index))},{image:u(()=>[g("div",Os,[g("img",{class:"image-thumb",src:e(se)(t.item.fileId,"&w=200&h=200"),onerror:"this.src='/broken-image.png'"},null,8,Qs)])]),title:u(()=>[We(h(e(z)(t.item.path)),1)]),subtitle:u(()=>{var p;return[g("div",Ks,[g("span",null,h(e(_e)(t.item.size)),1),g("a",{onClick:a[5]||(a[5]=d(T=>t.viewBucket(t.mainStore,t.item.bucketId),["stop","prevent"]))},h((p=t.bucketsMap[t.item.bucketId])==null?void 0:p.name),1),r(I,{tags:t.item.tags,type:t.dataType,"only-links":!0},null,8,["tags","type"])]),g("div",js,h(e(Xe)(t.item.createdAt)),1)]}),actions:u(()=>[r(q,{item:t.item,filter:t.filter,"data-type":t.dataType,app:t.app,"delete-item":t.deleteItem,restore:t.restore,"download-file":t.downloadFile,trash:t.trash,"add-item-to-tags":t.addItemToTags,"restore-loading":t.restoreLoading,"trash-loading":t.trashLoading},null,8,["item","filter","data-type","app","delete-item","restore","download-file","trash","add-item-to-tags","restore-loading","trash-loading"])]),_:1},8,["is-selected","is-selecting","checkbox-checked"])):(o(),m("section",{key:0,class:N(["media-item selectable-card",{selected:t.selectedIds.includes(t.item.id),selecting:t.shiftEffectingIds.includes(t.item.id)}]),onClick:a[3]||(a[3]=d(p=>t.handleItemClick(p,t.item,t.index,()=>t.view(t.index)),["stop"])),onMouseenter:a[4]||(a[4]=d(p=>t.handleMouseOver(p,t.index),["stop"]))},[g("div",Rs,[t.shiftEffectingIds.includes(t.item.id)?(o(),l(k,{key:0,class:"checkbox","touch-target":"wrapper",checked:t.shouldSelect,onClick:a[0]||(a[0]=d(p=>t.toggleSelect(p,t.item,t.index),["stop"]))},null,8,["checked"])):(o(),l(k,{key:1,class:"checkbox","touch-target":"wrapper",checked:t.selectedIds.includes(t.item.id),onClick:a[1]||(a[1]=d(p=>t.toggleSelect(p,t.item,t.index),["stop"]))},null,8,["checked"])),g("span",zs,[r(b,{id:t.index+1,raw:t.item},null,8,["id","raw"])])]),g("img",{class:"image",src:e(se)(t.item.fileId,"&w=200&h=200"),onerror:"this.src='/broken-image.png'"},null,8,qs),g("div",Ps,h(e(z)(t.item.path)),1),g("div",Hs,[g("span",null,h(e(_e)(t.item.size)),1),g("a",{onClick:a[2]||(a[2]=d(p=>t.viewBucket(t.mainStore,t.item.bucketId),["stop","prevent"]))},h((U=t.bucketsMap[t.item.bucketId])==null?void 0:U.name),1),r(I,{tags:t.item.tags,type:t.dataType,"only-links":!0},null,8,["tags","type"])]),r(q,{item:t.item,filter:t.filter,"data-type":t.dataType,app:t.app,"delete-item":t.deleteItem,restore:t.restore,"download-file":t.downloadFile,trash:t.trash,"add-item-to-tags":t.addItemToTags,"restore-loading":t.restoreLoading,"trash-loading":t.trashLoading},null,8,["item","filter","data-type","app","delete-item","restore","download-file","trash","add-item-to-tags","restore-loading","trash-loading"]),g("div",Ns,[c((o(),m("span",null,[We(h(e(Xe)(t.item.createdAt)),1)])),[[$,e(Gt)(t.item.createdAt)]])])],34))}}}),Ws={class:"top-app-bar"},Xs={class:"title"},Ys={key:0},Zs={key:1},Js={key:0,class:"actions"},xs=["onClick"],eo={key:0,class:"secondary-actions"},to=["onClick","onMouseenter"],so=["src"],oo={key:1,class:"actions"},no={class:"right"},ao={key:2,class:"no-data-placeholder"},B=55,ho=ve({__name:"ImagesView",setup(he){var He;const t=ds("isPhone"),a=Wt(),{imageSortBy:k}=Ye(a),b=H([]),{t:I}=st(),{parseQ:q,buildQ:P}=Ds(),$=Xt({tagIds:[],bucketId:void 0}),U=Yt(),{app:p,urlTokenKey:T,uploads:oe}=Ye(U),W=H(!1),ne=H(!1),{input:pt,upload:mt,uploadChanged:$e}=Ze(oe),{input:ct,upload:gt,uploadChanged:be}=Ze(oe),{dropping:kt,fileDragEnter:we,fileDragLeave:Ce,dropFiles:ft}=Zt(oe),ae=H(!1),f=Jt.IMAGE,Ie=xt(),Te=Ie.query,ie=H(parseInt(((He=Te.page)==null?void 0:He.toString())??"1")),{tags:O,buckets:Q,fetch:_t}=es(f),vt=Je(()=>{const s={};return Q.value.forEach(i=>{s[i.id]=i}),s}),F=H(""),{addToTags:yt}=Vs(f,O),{deleteItems:le,deleteItem:de}=ts(),{view:ht}=ys(f),{selectedIds:w,allChecked:Fe,realAllChecked:L,selectRealAll:$t,allCheckedAlertVisible:bt,clearSelection:K,toggleAllChecked:wt,toggleSelect:X,total:S,checked:R,shiftEffectingIds:re,handleItemClick:Se,handleMouseOver:De,selectAll:Ct,shouldSelect:Ve}=Ls(b),{downloadItems:Le}=ss(T,f,K,()=>ms("images")),{downloadFile:ue}=vs(T),Ae=s=>{const i=Ie.query.q;xe(a,i?`/images?page=${s}&q=${i}`:`/images?page=${s}`)},{keyDown:Ee,keyUp:Me}=As(S,B,ie,Ct,K,Ae,()=>{ee(te.MEDIA_TRASH,p.value.osVersion)?Z(f,j()):le(f,w.value,L.value,S.value,F.value)}),It=fs(),Tt=Je(()=>b.value.map(s=>({src:se(s.fileId),name:z(s.path),duration:0,size:s.size,path:s.path,type:f,data:s})));function pe(s){U.lightbox={sources:Tt.value,index:s,visible:!0}}const j=()=>{let s=F.value;return L.value||(s=`ids:${w.value.join(",")}`),s};function Be(s){hs($s,{type:f,tags:O.value,item:{key:s.id,title:s.title,size:s.size},selected:O.value.filter(i=>s.tags.some(A=>A.id===i.id))})}function Ft(s){k.value!==s&&(ae.value=!0,k.value=s)}const{loading:Y,fetch:G}=os({handle:async(s,i)=>{if(ae.value=!1,i)gs(I(i),"error");else if(s){const A=[];for(const D of s.images)A.push({...D,fileId:ks(T.value,D.path,D.id)});b.value=A,S.value=s.imageCount}},document:cs,variables:()=>({offset:(ie.value-1)*B,limit:B,query:F.value,sortBy:k.value})}),{trashLoading:me,trash:Z}=ns(),{restoreLoading:ce,restore:ge}=as();function Ue(s){return s?`/images?q=${s}`:"/images"}function ke(){const s=Q.value.find(i=>i.id===$.bucketId);return s?tt(s.topItems[0]):`${p.value.internalStoragePath}/Pictures`}function St(){mt(ke())}function Dt(){gt(ke())}function Vt(s){ft(s,ke(),i=>et(i.name))}const Re=s=>{s.type===f&&(K(),G())},ze=s=>{s.type===f&&G()},qe=s=>{s.type===f&&(K(),G())},Pe=s=>{s.status==="done"&&et(s.fileName)&&((!$.bucketId||Q.value.some(A=>A.id===$.bucketId&&A.topItems.some(D=>s.dir.startsWith(tt(D)))))&&setTimeout(()=>{G()},1e3),M.emit("media_items_actioned",{type:f,action:"upload",query:""}))};function Lt(s){Object.assign($,s),xe(a,Ue(P($)))}return is(()=>{var s;F.value=bs(((s=Te.q)==null?void 0:s.toString())??""),q($,F.value),_t(),G(),M.on("item_tags_updated",ze),M.on("items_tags_updated",Re),M.on("media_items_actioned",qe),M.on("upload_task_done",Pe),window.addEventListener("keydown",Ee),window.addEventListener("keyup",Me)}),ls(()=>{M.off("item_tags_updated",ze),M.off("items_tags_updated",Re),M.off("media_items_actioned",qe),M.off("upload_task_done",Pe),window.removeEventListener("keydown",Ee),window.removeEventListener("keyup",Me)}),(s,i)=>{const A=ut,D=nt,_=ot,Ne=at,J=it,Oe=lt,Qe=dt,At=ws,Et=Ss,Mt=Ts,Ke=rs,Bt=Fs,je=Ot,Ut=Is,Rt=Cs,fe=Kt,Ge=jt,zt=_s,qt=rt,Pt=Qt,Ht=Nt,v=ye("tooltip");return o(),m(C,null,[g("div",Ws,[r(A,{"touch-target":"wrapper",checked:e(Fe),indeterminate:!e(Fe)&&e(R),onChange:e(wt)},null,8,["checked","indeterminate","onChange"]),g("div",Xs,[e(w).length?(o(),m("span",Ys,h(s.$t("x_selected",{count:e(L)?e(S).toLocaleString():e(w).length.toLocaleString()})),1)):(o(),m("span",Zs,h(s.$t("page_title.images"))+" ("+h(e(S).toLocaleString())+")",1)),e(R)?(o(),m(C,{key:2},[$.trash?(o(),m(C,{key:0},[c((o(),l(_,{onClick:i[0]||(i[0]=d(n=>e(le)(e(f),e(w),e(L),e(S),F.value),["stop"]))},{default:u(()=>[r(D)]),_:1})),[[v,s.$t("delete")]]),c((o(),l(_,{loading:e(ce)(j()),onClick:i[1]||(i[1]=d(n=>e(ge)(e(f),j()),["stop"]))},{default:u(()=>[r(Ne)]),_:1},8,["loading"])),[[v,s.$t("restore")]]),c((o(),l(_,{onClick:i[2]||(i[2]=d(n=>e(Le)(e(L),e(w),F.value),["stop"]))},{default:u(()=>[r(J)]),_:1})),[[v,s.$t("download")]])],64)):(o(),m(C,{key:1},[e(ee)(e(te).MEDIA_TRASH,e(p).osVersion)?c((o(),l(_,{key:0,loading:e(me)(j()),onClick:i[3]||(i[3]=d(n=>e(Z)(e(f),j()),["stop"]))},{default:u(()=>[r(Oe)]),_:1},8,["loading"])),[[v,s.$t("move_to_trash")]]):c((o(),l(_,{key:1,onClick:i[4]||(i[4]=d(n=>e(le)(e(f),e(w),e(L),e(S),F.value),["stop"]))},{default:u(()=>[r(D)]),_:1})),[[v,s.$t("delete")]]),c((o(),l(_,{onClick:i[5]||(i[5]=d(n=>e(Le)(e(L),e(w),F.value),["stop"]))},{default:u(()=>[r(J)]),_:1})),[[v,s.$t("download")]]),c((o(),l(_,{onClick:i[6]||(i[6]=d(n=>e(yt)(e(w),e(L),F.value),["stop"]))},{default:u(()=>[r(Qe)]),_:1})),[[v,s.$t("add_to_tags")]])],64))],64)):V("",!0)]),!e(t)||!e(R)?(o(),m("div",Js,[r(At,{filter:$,tags:e(O),buckets:e(Q),"get-url":Ue,"show-chips":!e(t),"is-phone":e(t)},null,8,["filter","tags","buckets","show-chips","is-phone"]),r(Et),$.trash?V("",!0):(o(),l(Ke,{key:0,modelValue:W.value,"onUpdate:modelValue":i[9]||(i[9]=n=>W.value=n)},{trigger:u(()=>[c((o(),l(_,null,{default:u(()=>[r(Mt)]),_:1})),[[v,s.$t("upload")]])]),default:u(()=>[g("div",{class:"dropdown-item",onClick:i[7]||(i[7]=d(n=>{St(),W.value=!1},["stop"]))},h(s.$t("upload_files")),1),g("div",{class:"dropdown-item",onClick:i[8]||(i[8]=d(n=>{Dt(),W.value=!1},["stop"]))},h(s.$t("upload_folder")),1)]),_:1},8,["modelValue"])),r(Ke,{modelValue:ne.value,"onUpdate:modelValue":i[10]||(i[10]=n=>ne.value=n)},{trigger:u(()=>[c((o(),l(_,{loading:ae.value},{default:u(()=>[r(Bt)]),_:1},8,["loading"])),[[v,s.$t("sort")]])]),default:u(()=>[(o(!0),m(C,null,x(e(It),n=>(o(),m("div",{key:n.value,class:N(["dropdown-item",{selected:n.value===e(k)}]),onClick:E=>{Ft(n.value),ne.value=!1}},h(s.$t(n.label)),11,xs))),128))]),_:1},8,["modelValue"]),e(t)?V("",!0):(o(),l(je,{key:1,"card-view":e(a).imagesCardView,"onUpdate:cardView":i[11]||(i[11]=n=>e(a).imagesCardView=n)},null,8,["card-view"]))])):V("",!0)]),e(t)&&!e(R)?(o(),m("div",eo,[r(je,{"card-view":e(a).imagesCardView,"onUpdate:cardView":i[12]||(i[12]=n=>e(a).imagesCardView=n)},null,8,["card-view"])])):V("",!0),e(t)?(o(),l(Ut,{key:1,class:"mobile-search-filters",filter:$,tags:e(O),feeds:[],buckets:e(Q),types:[],onFilterChange:Lt},null,8,["filter","tags","buckets"])):V("",!0),r(Rt,{limit:B,total:e(S),"all-checked-alert-visible":e(bt),"real-all-checked":e(L),"select-real-all":e($t),"clear-selection":e(K)},null,8,["total","all-checked-alert-visible","real-all-checked","select-real-all","clear-selection"]),g("div",{class:"scroll-content",onDragover:i[16]||(i[16]=d((...n)=>e(we)&&e(we)(...n),["stop","prevent"]))},[c(g("div",{class:"drag-mask",onDrop:d(Vt,["stop","prevent"]),onDragleave:i[13]||(i[13]=d((...n)=>e(Ce)&&e(Ce)(...n),["stop","prevent"]))},h(s.$t("release_to_send_files")),545),[[us,e(kt)]]),e(a).imagesCardView?(o(),m("div",{key:1,class:N(["main-list media-list",{"select-mode":e(R)}])},[(o(!0),m(C,null,x(b.value,(n,E)=>(o(),l(Gs,{key:n.id,item:n,index:E,"is-phone":e(t),"selected-ids":e(w),"shift-effecting-ids":e(re),"should-select":e(Ve),"buckets-map":vt.value,filter:$,"data-type":e(f),"main-store":e(a),app:e(p),"handle-item-click":e(Se),"handle-mouse-over":e(De),"toggle-select":e(X),"view-bucket":e(ht),"delete-item":e(de),restore:e(ge),"download-file":e(ue),trash:e(Z),"add-item-to-tags":Be,view:pe,"restore-loading":e(ce),"trash-loading":e(me)},null,8,["item","index","is-phone","selected-ids","shift-effecting-ids","should-select","buckets-map","filter","data-type","main-store","app","handle-item-click","handle-mouse-over","toggle-select","view-bucket","delete-item","restore","download-file","trash","restore-loading","trash-loading"]))),128)),e(Y)&&b.value.length===0?(o(),l(Pt,{key:0,limit:B,"is-phone":e(t)},null,8,["is-phone"])):V("",!0)],2)):(o(),m("div",{key:0,class:N(["media-grid",{"select-mode":e(R)}])},[(o(!0),m(C,null,x(b.value,(n,E)=>(o(),m("section",{key:n.id,class:N(["media-item",{selected:e(w).includes(n.id),selecting:e(re).includes(n.id)}]),onClick:d(y=>e(Se)(y,n,E,pe),["stop"]),onMouseenter:d(y=>e(De)(y,E),["stop"])},[g("img",{class:"image-thumb image",src:e(se)(n.fileId,"&w=200&h=200"),onerror:"this.src='/broken-image.png'"},null,8,so),e(re).includes(n.id)?(o(),l(_,{key:0,class:"btn-checkbox",onClick:d(y=>e(X)(y,n,E),["stop"])},{default:u(()=>[e(Ve)?(o(),l(fe,{key:0})):(o(),l(Ge,{key:1}))]),_:2},1032,["onClick"])):e(w).includes(n.id)?(o(),l(_,{key:1,class:"btn-checkbox",onClick:d(y=>e(X)(y,n,E),["stop"])},{default:u(()=>[r(fe)]),_:2},1032,["onClick"])):(o(),m(C,{key:2},[r(_,{class:"btn-checkbox",onClick:d(y=>e(X)(y,n,E),["stop"])},{default:u(()=>[e(w).includes(n.id)?(o(),l(fe,{key:0})):(o(),l(Ge,{key:1}))]),_:2},1032,["onClick"]),e(R)?c((o(),l(_,{key:0,class:"btn-zoom sm",onClick:d(y=>pe(E),["stop"])},{default:u(()=>[r(zt)]),_:2},1032,["onClick"])),[[v,s.$t("open")]]):(o(),m("div",oo,[$.trash?(o(),m(C,{key:0},[c((o(),l(_,{class:"sm",onClick:d(y=>e(de)(e(f),n),["stop"])},{default:u(()=>[r(D)]),_:2},1032,["onClick"])),[[v,s.$t("delete")]]),c((o(),l(_,{class:"sm",loading:e(ce)(`ids:${n.id}`),onClick:d(y=>e(ge)(e(f),`ids:${n.id}`),["stop"])},{default:u(()=>[r(Ne)]),_:2},1032,["loading","onClick"])),[[v,s.$t("restore")]]),c((o(),l(_,{class:"sm",onClick:d(y=>e(ue)(n.path,e(z)(n.path).replace(" ","-")),["stop"])},{default:u(()=>[r(J)]),_:2},1032,["onClick"])),[[v,s.$t("download")]])],64)):(o(),m(C,{key:1},[e(ee)(e(te).MEDIA_TRASH,e(p).osVersion)?c((o(),l(_,{key:0,class:"sm",loading:e(me)(`ids:${n.id}`),onClick:d(y=>e(Z)(e(f),`ids:${n.id}`),["stop"])},{default:u(()=>[r(Oe)]),_:2},1032,["loading","onClick"])),[[v,s.$t("move_to_trash")]]):c((o(),l(_,{key:1,class:"sm",onClick:d(y=>e(de)(e(f),n),["stop"])},{default:u(()=>[r(D)]),_:2},1032,["onClick"])),[[v,s.$t("delete")]]),c((o(),l(_,{class:"sm",onClick:d(y=>e(ue)(n.path,e(z)(n.path).replace(" ","-")),["stop"])},{default:u(()=>[r(J)]),_:2},1032,["onClick"])),[[v,s.$t("download")]]),c((o(),l(_,{class:"sm",onClick:d(y=>Be(n),["stop"])},{default:u(()=>[r(Qe)]),_:2},1032,["onClick"])),[[v,s.$t("add_to_tags")]])],64))])),g("div",{class:N(["info",{"has-tags":n.tags.length>0}])},[r(qt,{tags:n.tags,type:e(f)},null,8,["tags","type"]),g("span",no,h(e(_e)(n.size)),1)],2)],64))],42,to))),128)),e(Y)&&b.value.length===0?(o(),m(C,{key:0},x(B,n=>g("section",{key:n,class:"skeleton-image media-item"})),64)):V("",!0)],2)),!e(Y)&&b.value.length===0?(o(),m("div",ao,h(s.$t(e(ps)(e(Y),e(p).permissions,"WRITE_EXTERNAL_STORAGE"))),1)):V("",!0),e(S)>B?(o(),l(Ht,{key:3,page:ie.value,go:Ae,total:e(S),limit:B},null,8,["page","total"])):V("",!0),g("input",{ref_key:"fileInput",ref:pt,style:{display:"none"},type:"file",accept:"image/*",multiple:"",onChange:i[14]||(i[14]=(...n)=>e($e)&&e($e)(...n))},null,544),g("input",{ref_key:"dirFileInput",ref:ct,style:{display:"none"},type:"file",accept:"image/*",multiple:"",webkitdirectory:"",mozdirectory:"",directory:"",onChange:i[15]||(i[15]=(...n)=>e(be)&&e(be)(...n))},null,544)],32)],64)}}});export{ho as default};
