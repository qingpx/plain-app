import{_ as g}from"./LeftSidebar.vuevuetypescriptsetuptruelang-CBJBYPC-.js";import{_ as C}from"./TagFilter.vuevuetypescriptsetuptruelang-CM2PW0r2.js";import{e as S,f as y,s as T,g as k,T as B,r as w,W as N,w as b,K as q,o as i,q as u,a6 as _,a4 as I,aM as V,a as c,k as $,z,O as A,c as L,j as M,t as n,l as d,H as Q,B as R}from"./index-CjV_XHt1.js";import{u as x}from"./search-BjrQXfOk.js";import"./VDropdownMenu-CZRhT-az.js";import"./more-vert-BwSh8Jfv.js";const O={class:"nav"},j={class:"title"},D={key:0,class:"count"},J=S({__name:"ContactsSidebar",setup(E){const m=y(),{counter:a}=T(k()),{parseQ:p}=x(),s=B({tagIds:[]}),o=w(""),{fetch:f}=N({handle:t=>{t&&(a.value.contacts=t.total)},document:V,variables:()=>({})});function r(){var e;const t=_.currentRoute.value,l=I(((e=t.query.q)==null?void 0:e.toString())??"");p(s,l),o.value=s.tagIds.length===1?s.tagIds[0]:"",f()}r(),b(()=>_.currentRoute.value,()=>{r()});function v(){R(m,"/contacts")}return(t,l)=>{const e=C,h=g;return i(),q(h,null,{title:u(()=>[Q(n(t.$t("page_title.contacts")),1)]),body:u(()=>[c("ul",O,[c("li",{class:A({active:!o.value}),onClick:z(v,["prevent"])},[c("span",j,n(t.$t("all")),1),d(a).contacts>=0?(i(),L("span",D,n(d(a).contacts.toLocaleString()),1)):M("",!0)],2)]),$(e,{type:"CONTACT",selected:o.value},null,8,["selected"])]),_:1})}}});export{J as default};
