import{_ as Rt}from"./VPagination.vuevuetypescriptsetuptruelang-B7Sa-dGQ.js";import{_ as Ut,a as qt,b as zt,c as Pt}from"./ViewToggleButtons.vuevuetypescriptsetuptruelang-C7_KMKwG.js";import{d as ye,u as xe,c as m,o,a0 as C,O as c,P as he,k as e,M as d,I as et,B as i,x as u,j as r,ac as tt,aR as st,aS as z,ao as ot,aT as ee,aU as te,aV as nt,Q as at,R as N,a as g,aL as se,t as h,q as _e,T as lt,U as Ht,J as We,V as je,e as Nt,s as Ge,r as q,W as Ot,f as Qt,aq as Xe,ar as Kt,X as Wt,aW as jt,aX as Ye,aY as Gt,as as Xt,Y as Yt,aZ as Zt,a_ as Jt,w as xt,Z as es,$ as ts,h as M,v as ss,al as os,au as ns,a1 as x,a2 as as,aB as ls,a$ as is,H as ds,b0 as rs,at as us,b1 as ps,aA as ms,b2 as cs,a4 as gs,D as ks,a5 as fs,a6 as vs,b3 as Ze,b4 as Je,a7 as B,a8 as _s,a9 as ys}from"./index-DK2k7uUz.js";import{_ as hs}from"./AllCheckedAlert.vuevuetypescriptsetuptruelang-BaeCK0x8.js";import{_ as $s,a as bs}from"./upload-rounded-Dl2klGx3.js";import{_ as ws}from"./MediaKeyboardShortcuts.vuevuetypescriptsetuptruelang-CseAG7cX.js";import{_ as it}from"./VCheckbox-ChdySfCx.js";import{a as Cs}from"./tags-DGia9o9R.js";import{u as Is,a as Ts}from"./key-events-DeJMQ3Gp.js";import{_ as Fs}from"./ListItemPhone.vuevuetypescriptsetuptruelang-QRqCHaZt.js";import{_ as Ss}from"./FieldId.vuevuetypescriptsetuptruelang-BCKfQAtO.js";const Ds={class:"actions"},As=ye({__name:"ImageActionButtons",props:{item:{},filter:{},dataType:{},app:{},deleteItem:{type:Function},restore:{type:Function},downloadFile:{type:Function},trash:{type:Function},addItemToTags:{type:Function},restoreLoading:{type:Function},trashLoading:{type:Function}},setup($e){const{t}=xe();return(a,k)=>{const $=tt,I=et,P=st,b=ot,H=nt,F=at,p=he("tooltip");return o(),m("div",Ds,[a.filter.trash?(o(),m(C,{key:0},[c((o(),d(I,{class:"sm",onClick:k[0]||(k[0]=i(S=>a.deleteItem(a.dataType,a.item),["stop"]))},{default:u(()=>[r($)]),_:1})),[[p,e(t)("delete")]]),c((o(),d(I,{class:"sm",loading:a.restoreLoading(`ids:${a.item.id}`),onClick:k[1]||(k[1]=i(S=>a.restore(a.dataType,`ids:${a.item.id}`),["stop"]))},{default:u(()=>[r(P)]),_:1},8,["loading"])),[[p,e(t)("restore")]]),c((o(),d(I,{class:"sm",onClick:k[2]||(k[2]=i(S=>a.downloadFile(a.item.path,e(z)(a.item.path).replace(" ","-")),["stop"]))},{default:u(()=>[r(b)]),_:1})),[[p,e(t)("download")]])],64)):(o(),m(C,{key:1},[e(ee)(e(te).MEDIA_TRASH,a.app.osVersion)?c((o(),d(I,{key:0,class:"sm",loading:a.trashLoading(`ids:${a.item.id}`),onClick:k[3]||(k[3]=i(S=>a.trash(a.dataType,`ids:${a.item.id}`),["stop"]))},{default:u(()=>[r(H)]),_:1},8,["loading"])),[[p,e(t)("move_to_trash")]]):c((o(),d(I,{key:1,class:"sm",onClick:k[4]||(k[4]=i(S=>a.deleteItem(a.dataType,a.item),["stop"]))},{default:u(()=>[r($)]),_:1})),[[p,e(t)("delete")]]),c((o(),d(I,{class:"sm",onClick:k[5]||(k[5]=i(S=>a.downloadFile(a.item.path,e(z)(a.item.path).replace(" ","-")),["stop"]))},{default:u(()=>[r(b)]),_:1})),[[p,e(t)("download")]]),c((o(),d(I,{class:"sm",onClick:k[6]||(k[6]=i(S=>a.addItemToTags(a.item),["stop"]))},{default:u(()=>[r(F)]),_:1})),[[p,e(t)("add_to_tags")]])],64))])}}}),Vs={class:"start"},Ls={class:"number"},Es=["src"],Ms={class:"title"},Bs={class:"subtitle"},Rs={class:"time"},Us={class:"image"},qs=["src"],zs={class:"subtitle"},Ps={class:"subtitle"},Hs=ye({__name:"ImageListItem",props:{item:{},index:{},selectedIds:{},shiftEffectingIds:{},shouldSelect:{type:Boolean},isPhone:{type:Boolean},bucketsMap:{},filter:{},dataType:{},mainStore:{},app:{},handleItemClick:{type:Function},handleMouseOver:{type:Function},toggleSelect:{type:Function},viewBucket:{type:Function},deleteItem:{type:Function},restore:{type:Function},downloadFile:{type:Function},trash:{type:Function},addItemToTags:{type:Function},view:{type:Function},restoreLoading:{type:Function},trashLoading:{type:Function}},setup($e){return(t,a)=>{var F;const k=it,$=Ss,I=lt,P=As,b=Fs,H=he("tooltip");return t.isPhone?(o(),d(b,{key:1,"is-selected":t.selectedIds.includes(t.item.id),"is-selecting":t.shiftEffectingIds.includes(t.item.id),"checkbox-checked":t.shiftEffectingIds.includes(t.item.id)?t.shouldSelect:t.selectedIds.includes(t.item.id),onClick:a[6]||(a[6]=p=>t.handleItemClick(p,t.item,t.index,()=>t.view(t.index))),onMouseenter:a[7]||(a[7]=i(p=>t.handleMouseOver(p,t.index),["stop"])),onCheckboxClick:a[8]||(a[8]=p=>t.toggleSelect(p,t.item,t.index))},{image:u(()=>[g("div",Us,[g("img",{class:"image-thumb",src:e(se)(t.item.fileId,"&w=200&h=200"),onerror:"this.src='/broken-image.png'"},null,8,qs)])]),title:u(()=>[We(h(e(z)(t.item.path)),1)]),subtitle:u(()=>{var p;return[g("div",zs,[g("span",null,h(e(_e)(t.item.size)),1),g("a",{onClick:a[5]||(a[5]=i(S=>t.viewBucket(t.mainStore,t.item.bucketId),["stop","prevent"]))},h((p=t.bucketsMap[t.item.bucketId])==null?void 0:p.name),1),r(I,{tags:t.item.tags,type:t.dataType,"only-links":!0},null,8,["tags","type"])]),g("div",Ps,h(e(je)(t.item.createdAt)),1)]}),actions:u(()=>[r(P,{item:t.item,filter:t.filter,"data-type":t.dataType,app:t.app,"delete-item":t.deleteItem,restore:t.restore,"download-file":t.downloadFile,trash:t.trash,"add-item-to-tags":t.addItemToTags,"restore-loading":t.restoreLoading,"trash-loading":t.trashLoading},null,8,["item","filter","data-type","app","delete-item","restore","download-file","trash","add-item-to-tags","restore-loading","trash-loading"])]),_:1},8,["is-selected","is-selecting","checkbox-checked"])):(o(),m("section",{key:0,class:N(["media-item selectable-card",{selected:t.selectedIds.includes(t.item.id),selecting:t.shiftEffectingIds.includes(t.item.id)}]),onClick:a[3]||(a[3]=i(p=>t.handleItemClick(p,t.item,t.index,()=>t.view(t.index)),["stop"])),onMouseenter:a[4]||(a[4]=i(p=>t.handleMouseOver(p,t.index),["stop"]))},[g("div",Vs,[t.shiftEffectingIds.includes(t.item.id)?(o(),d(k,{key:0,class:"checkbox","touch-target":"wrapper",checked:t.shouldSelect,onClick:a[0]||(a[0]=i(p=>t.toggleSelect(p,t.item,t.index),["stop"]))},null,8,["checked"])):(o(),d(k,{key:1,class:"checkbox","touch-target":"wrapper",checked:t.selectedIds.includes(t.item.id),onClick:a[1]||(a[1]=i(p=>t.toggleSelect(p,t.item,t.index),["stop"]))},null,8,["checked"])),g("span",Ls,[r($,{id:t.index+1,raw:t.item},null,8,["id","raw"])])]),g("img",{class:"image",src:e(se)(t.item.fileId,"&w=200&h=200"),onerror:"this.src='/broken-image.png'"},null,8,Es),g("div",Ms,h(e(z)(t.item.path)),1),g("div",Bs,[g("span",null,h(e(_e)(t.item.size)),1),g("a",{onClick:a[2]||(a[2]=i(p=>t.viewBucket(t.mainStore,t.item.bucketId),["stop","prevent"]))},h((F=t.bucketsMap[t.item.bucketId])==null?void 0:F.name),1),r(I,{tags:t.item.tags,type:t.dataType,"only-links":!0},null,8,["tags","type"])]),r(P,{item:t.item,filter:t.filter,"data-type":t.dataType,app:t.app,"delete-item":t.deleteItem,restore:t.restore,"download-file":t.downloadFile,trash:t.trash,"add-item-to-tags":t.addItemToTags,"restore-loading":t.restoreLoading,"trash-loading":t.trashLoading},null,8,["item","filter","data-type","app","delete-item","restore","download-file","trash","add-item-to-tags","restore-loading","trash-loading"]),g("div",Rs,[c((o(),m("span",null,[We(h(e(je)(t.item.createdAt)),1)])),[[H,e(Ht)(t.item.createdAt)]])])],34))}}}),Ns={class:"top-app-bar"},Os={class:"title"},Qs={key:0},Ks={key:1},Ws={key:0,class:"actions"},js=["onClick"],Gs={key:0,class:"secondary-actions"},Xs=["onClick","onMouseenter"],Ys=["src"],Zs={key:1,class:"actions"},Js={class:"right"},xs={key:2,class:"no-data-placeholder"},R=55,mo=ye({__name:"ImagesView",setup($e){const t=ss("isPhone"),a=Nt(),{imageSortBy:k}=Ge(a),$=q([]),{t:I}=xe(),{parseQ:P}=ys(),b=Ot({tagIds:[],bucketId:void 0}),H=Qt(),{app:F,urlTokenKey:p,uploads:S}=Ge(H),W=q(!1),oe=q(!1),{input:dt,upload:rt,uploadChanged:be}=Xe(S),{input:ut,upload:pt,uploadChanged:we}=Xe(S),{dropping:mt,fileDragEnter:Ce,fileDragLeave:Ie,dropFiles:ct}=Kt(S),ne=q(!1),f=Wt.IMAGE,j=gs(),G=q(1),{tags:ae,buckets:le,fetch:gt}=jt(f),kt=Ye(()=>{const s={};return le.value.forEach(l=>{s[l.id]=l}),s}),D=q(""),{addToTags:ft}=Cs(f,ae),{deleteItems:ie,deleteItem:de}=Gt(),{view:vt}=cs(f),{selectedIds:w,allChecked:Te,realAllChecked:L,selectRealAll:_t,allCheckedAlertVisible:yt,clearSelection:O,toggleAllChecked:ht,toggleSelect:X,total:A,checked:U,shiftEffectingIds:re,handleItemClick:Fe,handleMouseOver:Se,selectAll:$t,shouldSelect:De}=Is($),{downloadItems:Ae}=Xt(p,f,O,()=>ls("images")),{downloadFile:ue}=ms(p),Ve=s=>{const l=j.query.q;ks(a,l?`/images?page=${s}&q=${l}`:`/images?page=${s}`)},{keyDown:Le,keyUp:Ee}=Ts(A,R,G,$t,O,Ve,()=>{ee(te.MEDIA_TRASH,F.value.osVersion)?Z(f,Q()):ie(f,w.value,L.value,A.value,D.value)}),bt=us(),wt=Ye(()=>$.value.map(s=>({src:se(s.fileId),name:z(s.path),duration:0,size:s.size,path:s.path,type:f,data:s})));function pe(s){H.lightbox={sources:wt.value,index:s,visible:!0}}const Q=()=>{let s=D.value;return L.value||(s=`ids:${w.value.join(",")}`),s};function Me(s){fs(vs,{type:f,tags:ae.value,item:{key:s.id,title:s.title,size:s.size},selected:ae.value.filter(l=>s.tags.some(T=>T.id===l.id))})}function Ct(s){k.value!==s&&(ne.value=!0,k.value=s)}const{loading:Y,fetch:K}=Yt({handle:async(s,l)=>{if(ne.value=!1,l)ds(I(l),"error");else if(s){const T=[];for(const V of s.images)T.push({...V,fileId:rs(p.value,V.path,V.id)});$.value=T,A.value=s.imageCount}},document:is,variables:()=>({offset:(G.value-1)*R,limit:R,query:D.value,sortBy:k.value})}),{trashLoading:me,trash:Z}=Zt(),{restoreLoading:ce,restore:ge}=Jt();function ke(){const s=le.value.find(l=>l.id===b.bucketId);return s?Je(s.topItems[0]):`${F.value.internalStoragePath}/Pictures`}function It(){rt(ke())}function Tt(){pt(ke())}function Ft(s){ct(s,ke(),l=>Ze(l.name))}const Be=s=>{s.type===f&&(O(),K())},Re=s=>{s.type===f&&K()},Ue=s=>{s.type===f&&(O(),K())},qe=s=>{s.status==="done"&&Ze(s.fileName)&&((!b.bucketId||le.value.some(T=>T.id===b.bucketId&&T.topItems.some(V=>s.dir.startsWith(Je(V)))))&&setTimeout(()=>{K()},1e3),B.emit("media_items_actioned",{type:f,action:"upload",query:""}))},fe=q(!1);function ze(){var l,T;const s=parseInt(((l=j.query.page)==null?void 0:l.toString())??"1");G.value=Number.isFinite(s)&&s>0?s:1,D.value=_s(((T=j.query.q)==null?void 0:T.toString())??""),P(b,D.value),K()}return xt(()=>j.fullPath,()=>{fe.value&&ze()}),es(()=>{gt(),fe.value=!0,ze(),B.on("item_tags_updated",Re),B.on("items_tags_updated",Be),B.on("media_items_actioned",Ue),B.on("upload_task_done",qe),window.addEventListener("keydown",Le),window.addEventListener("keyup",Ee)}),ts(()=>{fe.value=!1,B.off("item_tags_updated",Re),B.off("items_tags_updated",Be),B.off("media_items_actioned",Ue),B.off("upload_task_done",qe),window.removeEventListener("keydown",Le),window.removeEventListener("keyup",Ee)}),(s,l)=>{const T=it,V=tt,v=et,Pe=st,J=ot,He=nt,Ne=at,St=ws,Dt=$s,Oe=os,At=bs,Qe=Ut,Vt=hs,ve=zt,Ke=Pt,Lt=ps,Et=lt,Mt=qt,Bt=Rt,_=he("tooltip");return o(),m(C,null,[g("div",Ns,[r(T,{"touch-target":"wrapper",checked:e(Te),indeterminate:!e(Te)&&e(U),onChange:e(ht)},null,8,["checked","indeterminate","onChange"]),g("div",Os,[e(w).length?(o(),m("span",Qs,h(s.$t("x_selected",{count:e(L)?e(A).toLocaleString():e(w).length.toLocaleString()})),1)):(o(),m("span",Ks,h(s.$t("page_title.images"))+" ("+h(e(A).toLocaleString())+")",1)),e(U)?(o(),m(C,{key:2},[b.trash?(o(),m(C,{key:0},[c((o(),d(v,{onClick:l[0]||(l[0]=i(n=>e(ie)(e(f),e(w),e(L),e(A),D.value),["stop"]))},{default:u(()=>[r(V)]),_:1})),[[_,s.$t("delete")]]),c((o(),d(v,{loading:e(ce)(Q()),onClick:l[1]||(l[1]=i(n=>e(ge)(e(f),Q()),["stop"]))},{default:u(()=>[r(Pe)]),_:1},8,["loading"])),[[_,s.$t("restore")]]),c((o(),d(v,{onClick:l[2]||(l[2]=i(n=>e(Ae)(e(L),e(w),D.value),["stop"]))},{default:u(()=>[r(J)]),_:1})),[[_,s.$t("download")]])],64)):(o(),m(C,{key:1},[e(ee)(e(te).MEDIA_TRASH,e(F).osVersion)?c((o(),d(v,{key:0,loading:e(me)(Q()),onClick:l[3]||(l[3]=i(n=>e(Z)(e(f),Q()),["stop"]))},{default:u(()=>[r(He)]),_:1},8,["loading"])),[[_,s.$t("move_to_trash")]]):c((o(),d(v,{key:1,onClick:l[4]||(l[4]=i(n=>e(ie)(e(f),e(w),e(L),e(A),D.value),["stop"]))},{default:u(()=>[r(V)]),_:1})),[[_,s.$t("delete")]]),c((o(),d(v,{onClick:l[5]||(l[5]=i(n=>e(Ae)(e(L),e(w),D.value),["stop"]))},{default:u(()=>[r(J)]),_:1})),[[_,s.$t("download")]]),c((o(),d(v,{onClick:l[6]||(l[6]=i(n=>e(ft)(e(w),e(L),D.value),["stop"]))},{default:u(()=>[r(Ne)]),_:1})),[[_,s.$t("add_to_tags")]])],64))],64)):M("",!0)]),!e(t)||!e(U)?(o(),m("div",Ws,[r(St),b.trash?M("",!0):(o(),d(Oe,{key:0,modelValue:W.value,"onUpdate:modelValue":l[9]||(l[9]=n=>W.value=n)},{trigger:u(()=>[c((o(),d(v,null,{default:u(()=>[r(Dt)]),_:1})),[[_,s.$t("upload")]])]),default:u(()=>[g("div",{class:"dropdown-item",onClick:l[7]||(l[7]=i(n=>{It(),W.value=!1},["stop"]))},h(s.$t("upload_files")),1),g("div",{class:"dropdown-item",onClick:l[8]||(l[8]=i(n=>{Tt(),W.value=!1},["stop"]))},h(s.$t("upload_folder")),1)]),_:1},8,["modelValue"])),r(Oe,{modelValue:oe.value,"onUpdate:modelValue":l[10]||(l[10]=n=>oe.value=n)},{trigger:u(()=>[c((o(),d(v,{loading:ne.value},{default:u(()=>[r(At)]),_:1},8,["loading"])),[[_,s.$t("sort")]])]),default:u(()=>[(o(!0),m(C,null,x(e(bt),n=>(o(),m("div",{key:n.value,class:N(["dropdown-item",{selected:n.value===e(k)}]),onClick:E=>{Ct(n.value),oe.value=!1}},h(s.$t(n.label)),11,js))),128))]),_:1},8,["modelValue"]),e(t)?M("",!0):(o(),d(Qe,{key:1,"card-view":e(a).imagesCardView,"onUpdate:cardView":l[11]||(l[11]=n=>e(a).imagesCardView=n)},null,8,["card-view"]))])):M("",!0)]),e(t)&&!e(U)?(o(),m("div",Gs,[r(Qe,{"card-view":e(a).imagesCardView,"onUpdate:cardView":l[12]||(l[12]=n=>e(a).imagesCardView=n)},null,8,["card-view"])])):M("",!0),r(Vt,{limit:R,total:e(A),"all-checked-alert-visible":e(yt),"real-all-checked":e(L),"select-real-all":e(_t),"clear-selection":e(O)},null,8,["total","all-checked-alert-visible","real-all-checked","select-real-all","clear-selection"]),g("div",{class:"scroll-content",onDragover:l[16]||(l[16]=i((...n)=>e(Ce)&&e(Ce)(...n),["stop","prevent"]))},[c(g("div",{class:"drag-mask",onDrop:i(Ft,["stop","prevent"]),onDragleave:l[13]||(l[13]=i((...n)=>e(Ie)&&e(Ie)(...n),["stop","prevent"]))},h(s.$t("release_to_send_files")),545),[[ns,e(mt)]]),e(a).imagesCardView?(o(),m("div",{key:1,class:N(["main-list media-list",{"select-mode":e(U)}])},[(o(!0),m(C,null,x($.value,(n,E)=>(o(),d(Hs,{key:n.id,item:n,index:E,"is-phone":e(t),"selected-ids":e(w),"shift-effecting-ids":e(re),"should-select":e(De),"buckets-map":kt.value,filter:b,"data-type":e(f),"main-store":e(a),app:e(F),"handle-item-click":e(Fe),"handle-mouse-over":e(Se),"toggle-select":e(X),"view-bucket":e(vt),"delete-item":e(de),restore:e(ge),"download-file":e(ue),trash:e(Z),"add-item-to-tags":Me,view:pe,"restore-loading":e(ce),"trash-loading":e(me)},null,8,["item","index","is-phone","selected-ids","shift-effecting-ids","should-select","buckets-map","filter","data-type","main-store","app","handle-item-click","handle-mouse-over","toggle-select","view-bucket","delete-item","restore","download-file","trash","restore-loading","trash-loading"]))),128)),e(Y)&&$.value.length===0?(o(),d(Mt,{key:0,limit:R,"is-phone":e(t)},null,8,["is-phone"])):M("",!0)],2)):(o(),m("div",{key:0,class:N(["media-grid",{"select-mode":e(U)}])},[(o(!0),m(C,null,x($.value,(n,E)=>(o(),m("section",{key:n.id,class:N(["media-item",{selected:e(w).includes(n.id),selecting:e(re).includes(n.id)}]),onClick:i(y=>e(Fe)(y,n,E,pe),["stop"]),onMouseenter:i(y=>e(Se)(y,E),["stop"])},[g("img",{class:"image-thumb image",src:e(se)(n.fileId,"&w=200&h=200"),onerror:"this.src='/broken-image.png'"},null,8,Ys),e(re).includes(n.id)?(o(),d(v,{key:0,class:"btn-checkbox",onClick:i(y=>e(X)(y,n,E),["stop"])},{default:u(()=>[e(De)?(o(),d(ve,{key:0})):(o(),d(Ke,{key:1}))]),_:2},1032,["onClick"])):e(w).includes(n.id)?(o(),d(v,{key:1,class:"btn-checkbox",onClick:i(y=>e(X)(y,n,E),["stop"])},{default:u(()=>[r(ve)]),_:2},1032,["onClick"])):(o(),m(C,{key:2},[r(v,{class:"btn-checkbox",onClick:i(y=>e(X)(y,n,E),["stop"])},{default:u(()=>[e(w).includes(n.id)?(o(),d(ve,{key:0})):(o(),d(Ke,{key:1}))]),_:2},1032,["onClick"]),e(U)?c((o(),d(v,{key:0,class:"btn-zoom sm",onClick:i(y=>pe(E),["stop"])},{default:u(()=>[r(Lt)]),_:2},1032,["onClick"])),[[_,s.$t("open")]]):(o(),m("div",Zs,[b.trash?(o(),m(C,{key:0},[c((o(),d(v,{class:"sm",onClick:i(y=>e(de)(e(f),n),["stop"])},{default:u(()=>[r(V)]),_:2},1032,["onClick"])),[[_,s.$t("delete")]]),c((o(),d(v,{class:"sm",loading:e(ce)(`ids:${n.id}`),onClick:i(y=>e(ge)(e(f),`ids:${n.id}`),["stop"])},{default:u(()=>[r(Pe)]),_:2},1032,["loading","onClick"])),[[_,s.$t("restore")]]),c((o(),d(v,{class:"sm",onClick:i(y=>e(ue)(n.path,e(z)(n.path).replace(" ","-")),["stop"])},{default:u(()=>[r(J)]),_:2},1032,["onClick"])),[[_,s.$t("download")]])],64)):(o(),m(C,{key:1},[e(ee)(e(te).MEDIA_TRASH,e(F).osVersion)?c((o(),d(v,{key:0,class:"sm",loading:e(me)(`ids:${n.id}`),onClick:i(y=>e(Z)(e(f),`ids:${n.id}`),["stop"])},{default:u(()=>[r(He)]),_:2},1032,["loading","onClick"])),[[_,s.$t("move_to_trash")]]):c((o(),d(v,{key:1,class:"sm",onClick:i(y=>e(de)(e(f),n),["stop"])},{default:u(()=>[r(V)]),_:2},1032,["onClick"])),[[_,s.$t("delete")]]),c((o(),d(v,{class:"sm",onClick:i(y=>e(ue)(n.path,e(z)(n.path).replace(" ","-")),["stop"])},{default:u(()=>[r(J)]),_:2},1032,["onClick"])),[[_,s.$t("download")]]),c((o(),d(v,{class:"sm",onClick:i(y=>Me(n),["stop"])},{default:u(()=>[r(Ne)]),_:2},1032,["onClick"])),[[_,s.$t("add_to_tags")]])],64))])),g("div",{class:N(["info",{"has-tags":n.tags.length>0}])},[r(Et,{tags:n.tags,type:e(f)},null,8,["tags","type"]),g("span",Js,h(e(_e)(n.size)),1)],2)],64))],42,Xs))),128)),e(Y)&&$.value.length===0?(o(),m(C,{key:0},x(R,n=>g("section",{key:n,class:"skeleton-image media-item"})),64)):M("",!0)],2)),!e(Y)&&$.value.length===0?(o(),m("div",xs,h(s.$t(e(as)(e(Y),e(F).permissions,"WRITE_EXTERNAL_STORAGE"))),1)):M("",!0),e(A)>R?(o(),d(Bt,{key:3,page:G.value,go:Ve,total:e(A),limit:R},null,8,["page","total"])):M("",!0),g("input",{ref_key:"fileInput",ref:dt,style:{display:"none"},type:"file",accept:"image/*",multiple:"",onChange:l[14]||(l[14]=(...n)=>e(be)&&e(be)(...n))},null,544),g("input",{ref_key:"dirFileInput",ref:ut,style:{display:"none"},type:"file",accept:"image/*",multiple:"",webkitdirectory:"",mozdirectory:"",directory:"",onChange:l[15]||(l[15]=(...n)=>e(we)&&e(we)(...n))},null,544)],32)],64)}}});export{mo as default};
