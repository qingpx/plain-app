import{_ as g}from"./LeftSidebar.vuevuetypescriptsetuptruelang-D0pTgc5b.js";import{_ as C}from"./TagFilter.vuevuetypescriptsetuptruelang-CJrBbQCN.js";import{d as S,e as y,s as k,f as B,W as T,r as w,Y as N,w as b,M as I,o as i,x as u,aa as _,a8 as Q,a9 as R,aQ as V,a as c,j as $,B as q,R as x,c as A,h as L,t as n,k as d,J as M,D as z}from"./index-D87Nr3Nw.js";import"./VDropdownMenu-B13G5ENl.js";import"./more-vert-BNcWbRGO.js";const D={class:"nav"},j={class:"title"},E={key:0,class:"count"},F=S({__name:"ContactsSidebar",setup(G){const p=y(),{counter:a}=k(B()),{parseQ:m}=R(),s=T({tagIds:[]}),o=w(""),{fetch:f}=N({handle:t=>{t&&(a.value.contacts=t.total)},document:V,variables:()=>({})});function r(){var e;const t=_.currentRoute.value,l=Q(((e=t.query.q)==null?void 0:e.toString())??"");m(s,l),o.value=s.tagIds.length===1?s.tagIds[0]:"",f()}r(),b(()=>_.currentRoute.value,()=>{r()});function h(){z(p,"/contacts")}return(t,l)=>{const e=C,v=g;return i(),I(v,null,{title:u(()=>[M(n(t.$t("page_title.contacts")),1)]),body:u(()=>[c("ul",D,[c("li",{class:x({active:!o.value}),onClick:q(h,["prevent"])},[c("span",j,n(t.$t("all")),1),d(a).contacts>=0?(i(),A("span",E,n(d(a).contacts.toLocaleString()),1)):L("",!0)],2)]),$(e,{type:"CONTACT",selected:o.value},null,8,["selected"])]),_:1})}}});export{F as default};
