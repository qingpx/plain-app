import{_ as T}from"./LeftSidebar.vuevuetypescriptsetuptruelang-p_q1VjLz.js";import{e as b,f as w,s as L,g as Q,T as z,r as k,W as A,w as N,K as R,o as l,q as g,a6 as S,a4 as V,ay as D,a as t,z as p,O as u,c as m,j as y,t as a,l as r,H as M,C as j,B as h,D as E}from"./index-Bp0_GVkJ.js";import{u as G}from"./search-CULCZbLY.js";const H={class:"nav"},I={class:"title"},K={key:0,class:"count"},O={class:"title"},P={key:0,class:"count"},W={class:"title"},x={key:0,class:"count"},Y=b({__name:"AppsSidebar",setup(F){const v=w(),{counter:o}=L(Q()),{parseQ:C}=G(),_=z({tagIds:[]}),n=k(""),i=k(-1),{fetch:B}=A({handle:e=>{e&&(o.value.packages=e.total,o.value.packagesSystem=e.system,i.value=e.total-e.system)},document:D,variables:()=>({})});function d(){var c;const e=S.currentRoute.value,s=V(((c=e.query.q)==null?void 0:c.toString())??"");C(_,s),n.value=_.type??"",B()}function f(e){const s=j([{name:"type",op:"",value:e}]);h(v,`/apps?q=${E(s)}`)}function $(){h(v,"/apps")}return d(),N(()=>S.currentRoute.value,()=>{d()}),(e,s)=>{const c=T;return l(),R(c,null,{title:g(()=>[M(a(e.$t("page_title.apps")),1)]),body:g(()=>[t("ul",H,[t("li",{class:u({active:!n.value}),onClick:p($,["prevent"])},[t("span",I,a(e.$t("all")),1),r(o).packages>=0?(l(),m("span",K,a(r(o).packages.toLocaleString()),1)):y("",!0)],2),t("li",{class:u({active:n.value==="user"}),onClick:s[0]||(s[0]=p(q=>f("user"),["prevent"]))},[t("span",O,a(e.$t("app_type.user")),1),i.value>=0?(l(),m("span",P,a(i.value.toLocaleString()),1)):y("",!0)],2),t("li",{class:u({active:n.value==="system"}),onClick:s[1]||(s[1]=p(q=>f("system"),["prevent"]))},[t("span",W,a(e.$t("app_type.system")),1),r(o).packagesSystem>=0?(l(),m("span",x,a(r(o).packagesSystem.toLocaleString()),1)):y("",!0)],2)])]),_:1})}}});export{Y as default};
