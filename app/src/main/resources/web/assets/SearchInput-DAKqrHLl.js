import{e as L,c as s,o as t,O as X,Z as d,H as U,a as b,t as v,z as K,m as j,aT as N,K as i,j as f,q as r,bA as Z,k as c,aR as Y,$ as p,cA as ee,N as te,f as le,T as ne,r as x,w as D,L as E,M as ae,ah as oe,bC as se,v as J,y as re,bD as ie,A as ue,bV as de,B as Q,J as ce}from"./index-B_6OBIiz.js";import{_ as fe,a as ye}from"./search-rounded-B3UzLU8d.js";import{u as me}from"./search-BMFnu_qU.js";const Le=L({__name:"AllCheckedAlert",props:{limit:{type:Number,required:!0},total:{type:Number,required:!0},allCheckedAlertVisible:{type:Boolean,required:!0},realAllChecked:{type:Boolean,required:!0},selectRealAll:{type:Function,default:()=>{}},clearSelection:{type:Function,default:()=>{}}},setup(e){return(m,u)=>(t(),s("div",{class:X(["alert-info alert-all-checked",{show:e.allCheckedAlertVisible||e.realAllChecked}])},[e.allCheckedAlertVisible?(t(),s(d,{key:0},[U(v(m.$t("all_items_on_this_page_are_selected",{count:e.limit}))+" ",1),b("a",{href:"#",onClick:u[0]||(u[0]=K((...h)=>e.selectRealAll&&e.selectRealAll(...h),["prevent"]))},v(m.$t("select_all_items",{count:e.total})),1)],64)):(t(),s(d,{key:1},[U(v(m.$t("all_items_are_selected",{count:e.total}))+" ",1),b("a",{href:"#",onClick:u[1]||(u[1]=K((...h)=>e.clearSelection&&e.clearSelection(...h),["prevent"]))},v(m.$t("clear_selection")),1)],64))],2))}}),he={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function be(e,m){return t(),s("svg",he,m[0]||(m[0]=[b("path",{fill:"currentColor",d:"M7.425 9.475L11.15 3.4q.15-.25.375-.363T12 2.925t.475.113t.375.362l3.725 6.075q.15.25.15.525t-.125.5t-.35.363t-.525.137h-7.45q-.3 0-.525-.137T7.4 10.5t-.125-.5t.15-.525M17.5 22q-1.875 0-3.187-1.312T13 17.5t1.313-3.187T17.5 13t3.188 1.313T22 17.5t-1.312 3.188T17.5 22M3 20.5v-6q0-.425.288-.712T4 13.5h6q.425 0 .713.288T11 14.5v6q0 .425-.288.713T10 21.5H4q-.425 0-.712-.288T3 20.5m14.5-.5q1.05 0 1.775-.725T20 17.5t-.725-1.775T17.5 15t-1.775.725T15 17.5t.725 1.775T17.5 20M5 19.5h4v-4H5zM10.05 9h3.9L12 5.85zm7.45 8.5"},null,-1)]))}const ke=j({name:"material-symbols-category-outline-rounded",render:be}),ve={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function _e(e,m){return t(),s("svg",ve,m[0]||(m[0]=[b("path",{fill:"currentColor",d:"M5 21q-.825 0-1.412-.587T3 19t.588-1.412T5 17t1.413.588T7 19t-.587 1.413T5 21m13.5 0q-.65 0-1.088-.475T16.9 19.4q-.275-2.425-1.312-4.537T12.9 11.1T9.138 8.413T4.6 7.1q-.65-.075-1.125-.512T3 5.5t.45-1.062t1.075-.363q3.075.275 5.763 1.563t4.737 3.337t3.338 4.738t1.562 5.762q.05.625-.363 1.075T18.5 21m-6 0q-.625 0-1.075-.437T10.85 19.5q-.225-1.225-.787-2.262T8.65 15.35t-1.888-1.412T4.5 13.15q-.625-.125-1.062-.575T3 11.5q0-.65.45-1.075t1.075-.325q1.825.25 3.413 1.063t2.837 2.062t2.063 2.838t1.062 3.412q.1.625-.325 1.075T12.5 21"},null,-1)]))}const ge=j({name:"material-symbols-rss-feed-rounded",render:_e}),Te={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function pe(e,m){return t(),s("svg",Te,m[0]||(m[0]=[b("path",{fill:"currentColor",d:"M9 16.5q-1.05 0-1.775-.725T6.5 14t.725-1.775T9 11.5t1.775.725T11.5 14t-.725 1.775T9 16.5M5 22q-.825 0-1.412-.587T3 20V6q0-.825.588-1.412T5 4h1V3q0-.425.288-.712T7 2t.713.288T8 3v1h8V3q0-.425.288-.712T17 2t.713.288T18 3v1h1q.825 0 1.413.588T21 6v14q0 .825-.587 1.413T19 22zm0-2h14V10H5zM5 8h14V6H5zm0 0V6z"},null,-1)]))}const $e=j({name:"material-symbols-today-outline-rounded",render:pe}),Ce=L({__name:"SearchFilters",props:{filter:{type:Object,required:!0},tags:{type:Array,default:()=>[]},feeds:{type:Array,default:()=>[]},buckets:{type:Array,default:()=>[]},types:{type:Array,default:()=>[]}},emits:["filterChange"],setup(e,{emit:m}){const u=e,h=m,I=N(()=>(u.tags??[]).filter(o=>{var $;return($=u.filter.tagIds)==null?void 0:$.includes(o.id)})),n=N(()=>(u.feeds??[]).filter(o=>u.filter.feedId===o.id)),T=N(()=>(u.buckets??[]).filter(o=>u.filter.bucketId===o.id)),q=N(()=>(u.types??[]).filter(o=>u.filter.type===o.id));function w(){const o={...u.filter};o.text=void 0,h("filterChange",o)}function A(){const o={...u.filter};o.today=void 0,h("filterChange",o)}function S(){const o={...u.filter};o.trash=!1,h("filterChange",o)}function F(){const o={...u.filter};o.bucketId=void 0,h("filterChange",o)}function B(){const o={...u.filter};o.feedId=void 0,h("filterChange",o)}function M(){const o={...u.filter};o.type=void 0,h("filterChange",o)}function P(o){const $={...u.filter};$.tagIds&&($.tagIds=$.tagIds.filter(C=>C!==o.id)),h("filterChange",$)}return(o,$)=>{const C=fe,a=$e,y=Y,H=ee,R=ge,z=ke,_=te,g=Z;return e.filter.text||e.filter.today||e.filter.trash||T.value.length||n.value.length||q.value.length||I.value.length?(t(),i(g,{key:0},{default:r(()=>[e.filter.text?(t(),i(C,{key:"filter-text",label:e.filter.text,"remove-only":"",onRemove:w},null,8,["label"])):f("",!0),e.filter.today?(t(),i(C,{key:"filter-today",label:o.$t("today"),"remove-only":"",onRemove:A},{default:r(()=>[c(a)]),_:1},8,["label"])):f("",!0),e.filter.trash?(t(),i(C,{key:"filter-trash",label:o.$t("trash"),"remove-only":"",onRemove:S},{default:r(()=>[c(y)]),_:1},8,["label"])):f("",!0),(t(!0),s(d,null,p(T.value,k=>(t(),i(C,{key:k.id,label:k.name,"remove-only":"",onRemove:F},{default:r(()=>[c(H)]),_:2},1032,["label"]))),128)),(t(!0),s(d,null,p(n.value,k=>(t(),i(C,{key:k.id,label:k.name,"remove-only":"",onRemove:B},{default:r(()=>[c(R)]),_:2},1032,["label"]))),128)),(t(!0),s(d,null,p(q.value,k=>(t(),i(C,{key:k.id,label:k.name,"remove-only":"",onRemove:M},{default:r(()=>[c(z)]),_:2},1032,["label"]))),128)),(t(!0),s(d,null,p(I.value,k=>(t(),i(C,{key:k.id,label:k.name,"remove-only":"",onRemove:()=>P(k)},{default:r(()=>[c(_)]),_:2},1032,["label","onRemove"]))),128))]),_:1})):f("",!0)}}}),qe={class:"btn-icon"},we={class:"filters"},Ve={class:"form-row"},Ie={class:"form-label"},Ae={class:"form-label"},Se={class:"form-label"},Fe={class:"form-label"},Be={class:"buttons"},Me={class:"form-label"},Re={class:"form-label"},ze={class:"form-label"},Ne={class:"form-label"},Ue={class:"form-label"},Pe=L({__name:"SearchInput",props:{filter:{type:Object,required:!0},getUrl:{type:Function,required:!0},tags:{type:Array,default:()=>[]},feeds:{type:Array,default:()=>[]},buckets:{type:Array,default:()=>[]},types:{type:Array,default:()=>[]},showChips:{type:Boolean,default:!0},showToday:{type:Boolean,default:!1},showTrash:{type:Boolean,default:!1},isPhone:{type:Boolean,default:!1}},setup(e,{expose:m}){const{buildQ:u,copyFilter:h}=me(),I=le(),n=ne({tagIds:[]}),T=e,q=x(!1),w=x(!1);D(T.filter,a=>{h(a,n)},{immediate:!0,deep:!0}),D(q,a=>{a&&h(T.filter,n)}),D(w,a=>{a&&h(T.filter,n)});function A(a){n.tagIds.includes(a.id)?de(n.tagIds,y=>y===a.id):n.tagIds.push(a.id)}function S(a){n.feedId===a.id?n.feedId=void 0:n.feedId=a.id}function F(a){n.bucketId===a.id?n.bucketId=void 0:n.bucketId=a.id}function B(a){n.type===a.id?n.type=void 0:n.type=a.id}function M(){$(),q.value=!1}function P(){w.value=!0}function o(){$(),w.value=!1}function $(){h(n,T.filter),Q(I,T.getUrl(u(T.filter)))}function C(a){h(a,T.filter),Q(I,T.getUrl(u(T.filter)))}return m({dismiss:()=>{q.value=!1,w.value=!1}}),(a,y)=>{const H=Ce,R=ye,z=re,_=ie,g=Z,k=ue,G=oe,W=se,O=ae("tooltip");return t(),s(d,null,[e.showChips?(t(),i(H,{key:0,filter:e.filter,tags:e.tags,feeds:e.feeds,buckets:e.buckets,types:e.types,onFilterChange:C},null,8,["filter","tags","feeds","buckets","types"])):f("",!0),e.isPhone?f("",!0):(t(),i(G,{key:1,modelValue:q.value,"onUpdate:modelValue":y[3]||(y[3]=l=>q.value=l),"max-height":400},{trigger:r(()=>[E((t(),s("button",qe,[c(R)])),[[O,a.$t("search")]])]),default:r(()=>[b("div",we,[b("div",Ve,[c(z,{modelValue:n.text,"onUpdate:modelValue":y[0]||(y[0]=l=>n.text=l),label:a.$t("keywords"),onKeyup:J(M,["enter"])},null,8,["modelValue","label"])]),e.showToday?(t(),i(g,{key:0},{default:r(()=>[c(_,{key:"chip-today",label:a.$t("today"),selected:n.today,onClick:y[1]||(y[1]=l=>n.today=!n.today)},null,8,["label","selected"])]),_:1})):f("",!0),e.showTrash?(t(),i(g,{key:1},{default:r(()=>[c(_,{key:"chip-today",label:a.$t("trash"),selected:n.trash,onClick:y[2]||(y[2]=l=>n.trash=!n.trash)},null,8,["label","selected"])]),_:1})):f("",!0),e.tags.length>0?(t(),s(d,{key:2},[b("label",Ie,v(a.$t("tags")),1),c(g,null,{default:r(()=>[(t(!0),s(d,null,p(e.tags,l=>(t(),i(_,{key:l.id,label:l.name,selected:n.tagIds.includes(l.id),onClick:V=>A(l)},null,8,["label","selected","onClick"]))),128))]),_:1})],64)):f("",!0),e.feeds.length>0?(t(),s(d,{key:3},[b("label",Ae,v(a.$t("page_title.feeds")),1),c(g,null,{default:r(()=>[(t(!0),s(d,null,p(e.feeds,l=>(t(),i(_,{key:l.id,label:l.name,selected:n.feedId===l.id,onClick:V=>S(l)},null,8,["label","selected","onClick"]))),128))]),_:1})],64)):f("",!0),e.buckets.length>0?(t(),s(d,{key:4},[b("label",Se,v(a.$t("folders")),1),c(g,null,{default:r(()=>[(t(!0),s(d,null,p(e.buckets,l=>(t(),i(_,{key:l.id,label:l.name,selected:n.bucketId===l.id,onClick:V=>F(l)},null,8,["label","selected","onClick"]))),128))]),_:1})],64)):f("",!0),e.types.length>0?(t(),s(d,{key:5},[b("label",Fe,v(a.$t("types")),1),c(g,null,{default:r(()=>[(t(!0),s(d,null,p(e.types,l=>(t(),i(_,{key:l.id,label:l.name,selected:n.type===l.id,onClick:V=>B(l)},null,8,["label","selected","onClick"]))),128))]),_:1})],64)):f("",!0),b("div",Be,[c(k,{onClick:K(M,["stop"])},{default:r(()=>[U(v(a.$t("search")),1)]),_:1})])])]),_:1},8,["modelValue"])),e.isPhone?E((t(),s("button",{key:2,class:"btn-icon mobile-search-btn",onClick:P},[c(R)])),[[O,a.$t("search")]]):f("",!0),e.isPhone?(t(),i(W,{key:3,modelValue:w.value,"onUpdate:modelValue":y[7]||(y[7]=l=>w.value=l),title:a.$t("search"),"show-footer":""},{footer:r(()=>[c(k,{class:"search-apply-btn",onClick:o},{default:r(()=>[U(v(a.$t("search")),1)]),_:1})]),default:r(()=>[b("label",Me,v(a.$t("keywords")),1),c(z,{modelValue:n.text,"onUpdate:modelValue":y[4]||(y[4]=l=>n.text=l),onKeyup:J(o,["enter"])},null,8,["modelValue"]),e.showToday||e.showTrash?(t(),i(g,{key:0,style:{"margin-block-start":"16px"}},{default:r(()=>[e.showToday?(t(),i(_,{key:0,label:a.$t("today"),selected:n.today,onClick:y[5]||(y[5]=l=>n.today=!n.today)},null,8,["label","selected"])):f("",!0),e.showTrash?(t(),i(_,{key:1,label:a.$t("trash"),selected:n.trash,onClick:y[6]||(y[6]=l=>n.trash=!n.trash)},null,8,["label","selected"])):f("",!0)]),_:1})):f("",!0),e.tags.length>0?(t(),s(d,{key:1},[b("label",Re,v(a.$t("tags")),1),c(g,null,{default:r(()=>[(t(!0),s(d,null,p(e.tags,l=>(t(),i(_,{key:l.id,label:l.name,selected:n.tagIds.includes(l.id),onClick:V=>A(l)},null,8,["label","selected","onClick"]))),128))]),_:1})],64)):f("",!0),e.feeds.length>0?(t(),s(d,{key:2},[b("label",ze,v(a.$t("page_title.feeds")),1),c(g,null,{default:r(()=>[(t(!0),s(d,null,p(e.feeds,l=>(t(),i(_,{key:l.id,label:l.name,selected:n.feedId===l.id,onClick:V=>S(l)},null,8,["label","selected","onClick"]))),128))]),_:1})],64)):f("",!0),e.buckets.length>0?(t(),s(d,{key:3},[b("label",Ne,v(a.$t("folders")),1),c(g,null,{default:r(()=>[(t(!0),s(d,null,p(e.buckets,l=>(t(),i(_,{key:l.id,label:l.name,selected:n.bucketId===l.id,onClick:V=>F(l)},null,8,["label","selected","onClick"]))),128))]),_:1})],64)):f("",!0),e.types.length>0?(t(),s(d,{key:4},[b("label",Ue,v(a.$t("types")),1),c(g,null,{default:r(()=>[(t(!0),s(d,null,p(e.types,l=>(t(),i(_,{key:l.id,label:l.name,selected:n.type===l.id,onClick:V=>B(l)},null,8,["label","selected","onClick"]))),128))]),_:1})],64)):f("",!0)]),_:1},8,["modelValue","title"])):f("",!0)],64)}}}),je=ce(Pe,[["__scopeId","data-v-a3d8c141"]]);export{je as _,Le as a,Ce as b};
