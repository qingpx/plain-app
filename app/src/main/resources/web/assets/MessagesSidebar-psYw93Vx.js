import{_ as q}from"./LeftSidebar.vuevuetypescriptsetuptruelang-CYfYOn6B.js";import{_ as L}from"./TagFilter.vuevuetypescriptsetuptruelang-CY0Ta0FA.js";import{d as I,e as N,s as Q,f as R,W as V,r as m,Y as x,w as z,M as A,o as u,x as g,aa as y,a8 as D,a9 as E,ab as F,a as t,j,c as _,B as h,R as S,h as k,t as a,k as C,a1 as G,a0 as J,J as P,E as W,D as B,F as Y}from"./index-DK2k7uUz.js";import"./VDropdownMenu-Bk56u6g5.js";import"./more-vert-YGlKv2Td.js";const H={class:"nav"},K={class:"title"},O={key:0,class:"count"},U=["onClick"],X={class:"title"},Z={key:0,class:"count"},le=I({__name:"MessagesSidebar",setup(ee){const d=N(),{counter:p}=Q(R()),{parseQ:$}=E(),o=V({tagIds:[]}),n=m(""),c=m(""),l=m(new Map),{fetch:b}=x({handle:e=>{e&&(p.value.messages=e.total,l.value.set("1",e.inbox),l.value.set("2",e.sent),l.value.set("3",e.drafts))},document:F,variables:()=>({})});function v(e){return l.value.get(e)??-1}function f(){var i;const e=y.currentRoute.value,r=D(((i=e.query.q)==null?void 0:i.toString())??"");$(o,r),n.value=o.type??"",c.value=o.tagIds.length===1?o.tagIds[0]:"",n.value&&(c.value=""),b()}f(),z(()=>y.currentRoute.value,()=>{f()});function w(e){const r=W([{name:"type",op:"",value:e}]);B(d,`/messages?q=${Y(r)}`)}function M(){B(d,"/messages")}return(e,r)=>{const i=L,T=q;return u(),A(T,null,{title:g(()=>[P(a(e.$t("page_title.messages")),1)]),body:g(()=>[t("ul",H,[t("li",{class:S({active:!c.value&&!n.value}),onClick:h(M,["prevent"])},[t("span",K,a(e.$t("all")),1),C(p).messages>=0?(u(),_("span",O,a(C(p).messages.toLocaleString()),1)):k("",!0)],2),(u(),_(J,null,G(["1","2","3"],s=>t("li",{key:s,class:S({active:s===n.value}),onClick:h(se=>w(s),["prevent"])},[t("span",X,a(e.$t(`message_type.${s}`)),1),v(s)>=0?(u(),_("span",Z,a(v(s).toLocaleString()),1)):k("",!0)],10,U)),64))]),j(i,{type:"SMS",selected:c.value},null,8,["selected"])]),_:1})}}});export{le as default};
